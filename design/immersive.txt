
                  Stereo and Headtracking in Equalizer


 Input:
  - in eqs::Config::_beginFrame()
    _updateHead()
     o sync head matrix
     o float _eyePosition[3] = head matrix * (+-eyeOffset, 0, 0, 1)
  - add eqs::Config::getEyePosition()
  - Eye offset

 Output
  - Frustum and head transform
    o see Compound::_computeFrustum()
      + get config eye position
      + transform eye position into screen space
      + compute frustum corners from frustum size and eye position
      + compute transformation of frustum ( -trans(eye) * origin->frustum xfm )


 Tracking API

   in server/config.cpp
   
   class Config
   {
   private:
       Matrix4f _headMatrix;
   }



   class Config
   {
       void setHeadMatrix( const Matrix& matrix );
           send head matrix to server
   };

   main
   {
        Tracker tracker;
        if( !tracker.init( "/dev/ttyS0" )
        ...
        while( true )
        {
            const float* hpr = tracker.getOrientation();
            Matrix4f headMatrix; 
            headMatrix.rotate( hpr[0], 0, 1, 0 );
            ...
            config->setHeadMatrix( headMatrix );
            ...
        }
   }

   class Tracker
   {
   public:
       bool init( const std::string& port );
       
       bool update();
       const float* getPosition() const;
       const float* getOrientation() const;

   private:
       int   _fd;
       float _pos[3];
       float _hpr[3];
   };
